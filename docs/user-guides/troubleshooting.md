# 常见问题解决方案

本文档收集了 Pot 用户在使用过程中遇到的常见问题及其解决方案。

## 🚀 快速诊断

### 问题分类快速导航

| 问题类型          | 常见症状           | 快速跳转                    |
| ----------------- | ------------------ | --------------------------- |
| 🚫 **安装问题**   | 无法安装、启动失败 | [安装问题](#-安装问题)      |
| ⌨️ **快捷键问题** | 快捷键不响应、冲突 | [快捷键问题](#️-快捷键问题) |
| 🔤 **翻译问题**   | 翻译失败、结果异常 | [翻译问题](#-翻译问题)      |
| 📷 **OCR 问题**   | 识别失败、准确度低 | [OCR 问题](#-ocr-问题)      |
| 🌐 **网络问题**   | 连接超时、代理问题 | [网络问题](#-网络问题)      |
| 🎨 **界面问题**   | 显示异常、主题问题 | [界面问题](#-界面问题)      |
| 🔧 **配置问题**   | 设置丢失、导入失败 | [配置问题](#-配置问题)      |

## 🚫 安装问题

### Windows 安装问题

#### ❌ 提示"缺少 Visual C++ 运行库"

**症状**: 启动时弹出错误提示缺少 VCRUNTIME140.dll 等文件

**解决方案**:

1. 下载并安装 [Microsoft Visual C++ Redistributable](https://docs.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist)
2. 选择对应的架构版本（x64）
3. 安装完成后重启应用

#### ❌ Windows Defender 误报

**症状**: 安装时被 Windows Defender 阻止或删除

**解决方案**:

1. 打开 Windows 安全中心
2. 选择"病毒和威胁防护"
3. 点击"管理设置"
4. 添加排除项，选择 Pot 安装目录
5. 或者在下载时选择"保留"文件

#### ❌ 安装包损坏

**症状**: 双击 .msi 文件无反应或提示文件损坏

**解决方案**:

1. 重新下载安装包，确保下载完整
2. 验证文件哈希值（如果提供）
3. 尝试以管理员身份运行安装程序
4. 临时关闭杀毒软件后重新安装

### macOS 安装问题

#### ❌ "无法打开，因为它来自身份不明的开发者"

**症状**: 双击应用时提示安全警告

**解决方案**:

1. **方法一（推荐）**:

    - 右键点击 Pot 应用
    - 选择"打开"
    - 在弹出对话框中点击"打开"

2. **方法二**:
    - 系统偏好设置 → 安全性与隐私
    - 在"通用"标签页中点击"仍要打开"

#### ❌ 辅助功能权限问题

**症状**: 划词翻译功能无法使用

**解决方案**:

1. 系统偏好设置 → 安全性与隐私 → 隐私
2. 选择"辅助功能"
3. 点击锁图标输入密码
4. 勾选 Pot 应用
5. 重启 Pot 应用

#### ❌ 截图权限问题

**症状**: 截图 OCR 功能无法使用

**解决方案**:

1. 系统偏好设置 → 安全性与隐私 → 隐私
2. 选择"屏幕录制"
3. 勾选 Pot 应用
4. 重启应用

### Linux 安装问题

#### ❌ AppImage 无法运行

**症状**: 双击 AppImage 文件无反应

**解决方案**:

1. 添加执行权限:

    ```bash
    chmod +x pot_*.AppImage
    ```

2. 安装 FUSE（如果未安装）:

    ```bash
    # Ubuntu/Debian
    sudo apt install fuse

    # Fedora
    sudo dnf install fuse

    # Arch Linux
    sudo pacman -S fuse2
    ```

3. 手动运行:
    ```bash
    ./pot_*.AppImage
    ```

#### ❌ deb 包依赖问题

**症状**: 安装时提示依赖包缺失

**解决方案**:

```bash
# 安装依赖
sudo apt-get install -f

# 或者重新安装
sudo dpkg -i pot_*.deb
sudo apt-get install -f
```

#### ❌ Wayland 截图问题

**症状**: 在 Wayland 环境下无法截图

**解决方案**:

1. 确保安装了 `grim` 和 `slurp`:

    ```bash
    # Ubuntu
    sudo apt install grim slurp

    # Fedora
    sudo dnf install grim slurp

    # Arch Linux
    sudo pacman -S grim slurp
    ```

2. 对于 Hyprland 用户，应用补丁:
    ```bash
    cd pot-desktop
    git apply patches/hyprland.patch
    ```

## ⌨️ 快捷键问题

### ❌ 快捷键不响应

**症状**: 按下设置的快捷键没有反应

**解决方案**:

1. **检查快捷键冲突**:

    - 打开 Pot 设置 → 快捷键
    - 查看是否有红色警告提示
    - 更换为其他组合键

2. **检查权限设置**:

    - **Windows**: 以管理员身份运行
    - **macOS**: 确保辅助功能权限已授予
    - **Linux**: 检查是否有权限限制

3. **重置快捷键**:
    - 清除当前快捷键设置
    - 重新设置为简单的组合键
    - 避免使用系统保留的快捷键

### ❌ 快捷键冲突

**症状**: 快捷键被其他应用占用

**解决方案**:

1. **查找冲突应用**:

    - **Windows**: 任务管理器查看运行的程序
    - **macOS**: 活动监视器查看进程
    - **Linux**: 使用 `ps aux` 查看进程

2. **推荐快捷键组合**:
   | 功能 | 推荐快捷键 | 备选方案 |
   |------|------------|----------|
   | 划词翻译 | `Alt + A` | `Ctrl + Shift + A` |
   | 输入翻译 | `Alt + S` | `Ctrl + Shift + S` |
   | 截图 OCR | `Alt + Q` | `Ctrl + Shift + Q` |
   | 截图翻译 | `Alt + W` | `Ctrl + Shift + W` |

3. **避免的快捷键**:
    - `Ctrl + C/V/X/Z` (系统剪贴板)
    - `Alt + Tab` (窗口切换)
    - `Ctrl + Alt + Del` (系统功能)
    - `Win + L` (锁屏)

## 🔤 翻译问题

### ❌ 翻译失败

**症状**: 点击翻译后没有结果或提示错误

**解决方案**:

1. **检查网络连接**:

    ```bash
    # 测试网络连通性
    ping google.com
    ping translate.googleapis.com
    ```

2. **检查翻译服务配置**:

    - 打开设置 → 服务管理 → 翻译服务
    - 确认已启用至少一个翻译服务
    - 检查 API 密钥是否正确填写

3. **测试翻译服务**:
    - 在服务配置页面点击"测试"按钮
    - 查看错误信息
    - 根据错误信息调整配置

### ❌ 翻译结果异常

**症状**: 翻译结果明显错误或不完整

**解决方案**:

1. **更换翻译引擎**:

    - 尝试不同的翻译服务
    - Google 翻译：通用性好
    - DeepL：准确度高
    - 百度翻译：中文支持好

2. **检查源语言设置**:

    - 确保源语言检测正确
    - 手动指定源语言
    - 避免使用"自动检测"对于复杂文本

3. **优化翻译文本**:
    - 去除多余的空格和换行
    - 分段翻译长文本
    - 避免翻译包含大量符号的文本

### ❌ API 配额用完

**症状**: 提示 API 调用次数超限

**解决方案**:

1. **检查 API 使用情况**:

    - 登录对应服务商控制台
    - 查看 API 调用统计
    - 确认配额和计费情况

2. **优化使用策略**:

    - 启用多个翻译服务轮换
    - 减少重复翻译
    - 使用缓存避免重复调用

3. **升级服务计划**:
    - 购买更高配额的 API 服务
    - 或使用免费额度更大的服务

## 📷 OCR 问题

### ❌ 文字识别失败

**症状**: 截图后无法识别出文字

**解决方案**:

1. **检查图片质量**:

    - 确保截图清晰，文字可读
    - 避免过小或模糊的文字
    - 确保足够的对比度

2. **调整 OCR 设置**:

    - 尝试不同的 OCR 引擎
    - 调整识别语言设置
    - 启用图片预处理选项

3. **优化截图操作**:
    - 截图时包含完整的文字行
    - 避免倾斜或扭曲的文字
    - 确保文字与背景有清晰对比

### ❌ 识别准确度低

**症状**: 识别出的文字错误较多

**解决方案**:

1. **选择合适的 OCR 引擎**:

    - **中文文本**: 百度 OCR、腾讯 OCR
    - **英文文本**: Tesseract、系统 OCR
    - **手写文字**: 讯飞手写识别
    - **公式识别**: 讯飞公式识别

2. **优化图片质量**:

    - 提高截图分辨率
    - 确保文字清晰可读
    - 调整屏幕缩放比例

3. **手动校正**:
    - 识别后手动修正错误
    - 学习常见错误模式
    - 建立个人词典

### ❌ 截图功能异常

**症状**: 无法正常截图或截图区域异常

**解决方案**:

1. **检查权限设置**:

    - **Windows**: 确保应用有屏幕捕获权限
    - **macOS**: 检查屏幕录制权限
    - **Linux**: 确保有截图工具权限

2. **多显示器问题**:

    - 在主显示器上进行截图
    - 调整显示器缩放设置
    - 检查显示器排列配置

3. **系统兼容性**:
    - 更新显卡驱动
    - 检查系统版本兼容性
    - 尝试兼容模式运行

## 🌐 网络问题

### ❌ 连接超时

**症状**: 翻译或 OCR 请求超时

**解决方案**:

1. **检查网络连接**:

    ```bash
    # 测试基本连通性
    ping 8.8.8.8

    # 测试 DNS 解析
    nslookup translate.googleapis.com

    # 测试 HTTP 连接
    curl -I https://translate.googleapis.com
    ```

2. **调整超时设置**:

    - 增加网络超时时间
    - 在设置中找到超时配置
    - 根据网络情况调整数值

3. **使用代理**:
    - 配置 HTTP 代理
    - 设置 → 通用设置 → 代理配置
    - 填入代理服务器信息

### ❌ 代理配置问题

**症状**: 设置代理后仍然无法连接

**解决方案**:

1. **验证代理设置**:

    - 确认代理服务器地址和端口
    - 检查用户名和密码
    - 测试代理是否正常工作

2. **代理协议支持**:

    - Pot 支持 HTTP 和 SOCKS5 代理
    - 确认代理类型匹配
    - 检查代理服务器协议版本

3. **排除域名设置**:
    - 配置不需要代理的域名
    - 添加本地网络到排除列表
    - 避免代理本地服务

### ❌ SSL 证书错误

**症状**: 提示 SSL 证书验证失败

**解决方案**:

1. **更新系统证书**:

    - **Windows**: 运行 Windows Update
    - **macOS**: 更新系统版本
    - **Linux**: 更新 ca-certificates 包

2. **检查系统时间**:

    - 确保系统时间准确
    - 同步网络时间
    - 检查时区设置

3. **网络环境问题**:
    - 尝试更换网络环境
    - 使用移动热点测试
    - 联系网络管理员

## 🎨 界面问题

### ❌ 界面显示异常

**症状**: 窗口显示不完整、文字重叠等

**解决方案**:

1. **调整系统缩放**:

    - **Windows**: 显示设置 → 缩放与布局
    - **macOS**: 系统偏好设置 → 显示器
    - **Linux**: 显示设置 → 缩放

2. **重置窗口位置**:

    - 关闭 Pot 应用
    - 删除窗口位置配置文件
    - 重新启动应用

3. **更新显卡驱动**:
    - 下载最新显卡驱动
    - 重启系统
    - 测试界面显示

### ❌ 主题显示问题

**症状**: 主题切换后显示异常

**解决方案**:

1. **重启应用**:

    - 完全退出 Pot
    - 重新启动应用
    - 检查主题是否正常

2. **清除主题缓存**:

    - 设置 → 通用设置 → 主题设置
    - 切换到其他主题再切换回来
    - 或重置为默认主题

3. **系统主题同步**:
    - 使用"跟随系统"选项
    - 确保系统主题设置正确
    - 检查系统主题兼容性

### ❌ 字体显示问题

**症状**: 文字显示模糊、缺失或异常

**解决方案**:

1. **安装缺失字体**:

    - 下载并安装所需字体
    - 重启应用使字体生效
    - 在设置中选择合适字体

2. **调整字体设置**:

    - 设置 → 通用设置 → 字体配置
    - 选择系统已安装的字体
    - 调整字体大小

3. **系统字体渲染**:
    - **Windows**: 调整 ClearType 设置
    - **macOS**: 检查字体平滑设置
    - **Linux**: 配置字体渲染选项

## 🔧 配置问题

### ❌ 配置丢失

**症状**: 应用设置被重置或丢失

**解决方案**:

1. **查找配置文件**:

    - **Windows**: `%APPDATA%\pot\config.json`
    - **macOS**: `~/Library/Application Support/pot/config.json`
    - **Linux**: `~/.config/pot/config.json`

2. **恢复备份配置**:

    - 设置 → 备份设置 → 导入配置
    - 选择之前的备份文件
    - 重启应用使配置生效

3. **手动重新配置**:
    - 记录常用设置
    - 逐项重新配置
    - 完成后立即备份

### ❌ 导入配置失败

**症状**: 无法导入配置文件

**解决方案**:

1. **检查文件格式**:

    - 确认是有效的 JSON 格式
    - 检查文件是否损坏
    - 验证配置版本兼容性

2. **权限问题**:

    - 确保有读取文件权限
    - 检查文件路径是否正确
    - 尝试复制到桌面后导入

3. **逐步导入**:
    - 先导入部分配置
    - 确认哪部分配置有问题
    - 手动修复有问题的配置项

### ❌ 服务配置错误

**症状**: API 服务配置后无法使用

**解决方案**:

1. **验证 API 密钥**:

    - 确认 API 密钥正确
    - 检查密钥是否过期
    - 验证账户状态

2. **检查服务地址**:

    - 确认 API 端点地址正确
    - 检查服务是否可访问
    - 验证 API 版本兼容性

3. **测试连接**:
    - 使用服务配置页面的测试功能
    - 查看详细错误信息
    - 根据错误信息调整配置

## 🔍 高级诊断

### 启用调试模式

1. **开启调试日志**:

    - 设置 → 通用设置 → 开发模式
    - 重启应用
    - 查看详细日志信息

2. **查看日志文件**:

    - **Windows**: `%APPDATA%\pot\logs\`
    - **macOS**: `~/Library/Logs/pot/`
    - **Linux**: `~/.local/share/pot/logs/`

3. **命令行启动**:

    ```bash
    # 启用详细日志
    pot --debug

    # 查看实时日志
    tail -f ~/.local/share/pot/logs/pot.log
    ```

### 重置应用

**完全重置 Pot 配置**:

1. **备份重要数据**:

    - 导出配置文件
    - 备份翻译历史
    - 记录重要设置

2. **删除配置目录**:

    ```bash
    # Windows
    rmdir /s "%APPDATA%\pot"

    # macOS
    rm -rf ~/Library/Application\ Support/pot

    # Linux
    rm -rf ~/.config/pot ~/.local/share/pot
    ```

3. **重新安装应用**:
    - 卸载当前版本
    - 下载最新版本
    - 重新安装和配置

## 📞 获取帮助

### 社区支持

1. **QQ 频道**: [加入讨论](https://pd.qq.com/s/akns94e1r)
2. **GitHub Issues**: [提交问题](https://github.com/pot-app/pot-desktop/issues)
3. **GitHub Discussions**: [参与讨论](https://github.com/pot-app/pot-desktop/discussions)

### 问题反馈

**提交 Issue 时请包含**:

1. **系统信息**:

    - 操作系统版本
    - Pot 版本号
    - 系统架构（x64/ARM）

2. **问题描述**:

    - 详细的问题描述
    - 重现步骤
    - 预期行为和实际行为

3. **相关日志**:

    - 错误日志内容
    - 调试模式日志
    - 截图或录屏

4. **配置信息**:
    - 相关设置截图
    - 服务配置信息（隐藏敏感信息）
    - 网络环境描述

### 自助排查清单

**遇到问题时请先检查**:

-   [ ] 是否使用最新版本
-   [ ] 是否有足够的系统权限
-   [ ] 网络连接是否正常
-   [ ] 相关服务配置是否正确
-   [ ] 是否有杀毒软件干扰
-   [ ] 系统时间是否准确
-   [ ] 是否有其他软件冲突

---

_本文档持续更新中，如果您的问题未在此列出，欢迎通过社区渠道反馈。_
